# TIDE Template v5.1 - AI-Native (Hierarchical Tracking)
# Execution tracking nested under PHASE/PATH hierarchy

TIDE:
  attempt: 1  # Sequential number
  path_ref: project-name  # Which PATH we're executing
  phase_ref: parent-phase  # Which PHASE this PATH belongs to
  started: 2024-01-15T10:00:00Z
  completed: 2024-01-15T11:30:00Z
  
  # EXECUTION STATUS - What actually happened
  execution:
    work-1: 
      status: complete
      evidence: "Successfully created X"
      output: "Successfully created X"
    work-2:
      status: failed
      evidence: "Failed - connection not established"
      error: "Connection failed"
      attempted_fix: "Adjusted connection parameters"
    work-3:
      status: blocked
      blocker: work-2
    work-4:
      status: not_started
  
  # ADAPTATIONS - Changes from original PATH (TIDE 2+ only)
  adaptations:
    - action: insert
      work: "add-retry-logic"
      position: "before work-2"
      reason: "work-2 failed due to connection issue in TIDE_1"
    - action: modify
      work: "work-2"
      change: "Increased connection pool to 20"
      reason: "Default pool size insufficient"
  
  # METRICS ACHIEVED - Which success criteria were met
  metrics_achieved:
    "System running": false
    "Tests passing": false
    "Performance target": false
  
  # LEARNINGS - To be fed back into documents
  learnings:
    for_work:  # These update specific WORKs
      work-2:
        - "Connection pool must be 20+ for production load"
        - "Connection parameters need adjustment"
    for_path:  # These update the PATH
      - "Database must be initialized before API starts"
      - "Consider using connection pooler like pgbouncer"
    for_phase:  # These update the containing PHASE
      - "All PATHs in this phase need database coordination"
      - "Resource sharing patterns for multi-PATH phases"
    for_pattern:  # These might become patterns
      - "All production APIs need connection pooling"
  
  # OUTCOME - Overall result
  outcome: partial  # success | partial | failed
  
  # NEXT ACTIONS - What to do next
  next_actions:
    if_failed:
      - "Fix work-2 connection issues"
      - "Create TIDE_2 with adaptations"
    if_partial:
      - "Complete blocked works"
      - "Rerun with fixes"
    if_success:
      - "Update WORKs with learnings"
      - "Update PATH with learnings"
      - "Consider pattern extraction"
  
  # KNOWLEDGE UPDATES - How to update source documents
  updates_required:
    works:
      work-2:
        add_to_artifacts: "Connection pool configuration"
        add_to_troubleshooting: "Connection issue and solution"
        add_to_learnings: "Production load requirements"
    path:
      add_to_learnings: "Database initialization order"
      add_to_risks: "Connection pool exhaustion"
      update_status: "TIDE_1 partial, moving to TIDE_2"
    phase:
      add_to_learnings: "Cross-PATH database coordination needs"
      update_coordination: "Shared database resource requirements"
      update_status: "PATH status within overall phase progress"
  
  # ENVIRONMENT - Execution context
  environment:
    os: "macOS 14.0"
    node_version: "18.17.0"
    docker_version: "24.0.0"
    notable_conditions: "Low memory, slow network"